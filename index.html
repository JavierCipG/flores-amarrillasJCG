<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Feliz 21 de septiembre — Flores Amarillas</title>
  <style>
    html,body{height:100%;margin:0;overflow:hidden;background:#ffe;}
    canvas{display:block;width:100%;height:100vh;}
    .firma{
      position:fixed;
      bottom:8px;
      left:8px;
      font-family:system-ui,Arial;
      font-size:14px;
      font-weight:bold;
      color:#5a3c00;
      opacity:0.8;
    }
  </style>
</head>
<body>
  <canvas id="c"></canvas>
  <div class="firma">@javiCipG</div>
  <script>
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');

    function resize(){
      const dpr = window.devicePixelRatio || 1;
      canvas.width = Math.floor(innerWidth * dpr);
      canvas.height = Math.floor(innerHeight * dpr);
      canvas.style.width = innerWidth + 'px';
      canvas.style.height = innerHeight + 'px';
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    addEventListener('resize', resize);
    resize();

    function rand(a,b){ return Math.random()*(b-a)+a }

    class Flower{
      constructor(x,y,scale,type){
        this.x=x; this.y=y; this.scale=scale; this.type=type;
        this.phase=rand(0,Math.PI*2);
      }
      drawPetal(px,py,w,h,rot,color){
        ctx.save();
        ctx.translate(px,py);
        ctx.rotate(rot);
        ctx.beginPath();
        ctx.moveTo(0,0);
        ctx.bezierCurveTo(w*0.3,-h*0.2,w*0.6,-h*0.9,0,-h);
        ctx.bezierCurveTo(-w*0.6,-h,w*0.3,-h*0.2,0,0);
        ctx.closePath();
        ctx.fillStyle=color;
        ctx.fill();
        ctx.restore();
      }
      draw(t){
        const sway=Math.sin(t*0.001+this.phase)*10*this.scale;
        ctx.save();
        ctx.translate(this.x+sway,this.y);
        ctx.scale(this.scale,this.scale);

        // tallo
        ctx.beginPath();
        ctx.moveTo(0,0);
        ctx.lineTo(0,-120);
        ctx.strokeStyle="#2e6b2d";
        ctx.lineWidth=4;
        ctx.stroke();

        ctx.translate(0,-120);

        if(this.type==="tulip"){
          // tulip: pétalos cerrados
          for(let i=-1;i<=1;i++){
            this.drawPetal(0,0,40,70,i*0.5,"hsl(52,90%,"+(50+i*3)+"%)");
          }
          ctx.beginPath();
          ctx.arc(0,5,14,0,Math.PI*2);
          ctx.fillStyle="rgba(255,230,100,0.7)";
          ctx.fill();
        } else {
          // margarita amarilla
          for(let i=0;i<8;i++){
            const ang=i/8*Math.PI*2;
            this.drawPetal(Math.cos(ang)*4,Math.sin(ang)*4,22,45,ang,"hsl(52,90%,"+(50+i%2*5)+"%)");
          }
          ctx.beginPath();
          ctx.arc(0,0,12,0,Math.PI*2);
          ctx.fillStyle="#c8961e";
          ctx.fill();
        }
        ctx.restore();
      }
    }

    const flowers=[];
    function populate(){
      flowers.length=0;
      const types=["tulip","daisy"];
      for(let i=0;i<25;i++){
        const x=rand(50,innerWidth-50);
        const y=rand(innerHeight*0.55,innerHeight-40);
        const s=rand(0.6,1.2);
        const type=types[Math.floor(rand(0,types.length))];
        flowers.push(new Flower(x,y,s,type));
      }
    }
    populate();

    function loop(t){
      ctx.clearRect(0,0,innerWidth,innerHeight);

      // fondo cielo
      const sky=ctx.createLinearGradient(0,0,0,innerHeight);
      sky.addColorStop(0,"#fffbe6");
      sky.addColorStop(1,"#ffeebb");
      ctx.fillStyle=sky;
      ctx.fillRect(0,0,innerWidth,innerHeight);

      // suelo césped
      ctx.beginPath();
      ctx.moveTo(0,innerHeight*0.8);
      ctx.quadraticCurveTo(innerWidth*0.5,innerHeight*0.75,innerWidth,innerHeight*0.8);
      ctx.lineTo(innerWidth,innerHeight);
      ctx.lineTo(0,innerHeight);
      ctx.closePath();
      ctx.fillStyle="#a7d38c";
      ctx.fill();

      // flores
      for(const f of flowers) f.draw(t);

      // mensaje superior
      ctx.font="bold 40px Arial";
      ctx.fillStyle="#5a3c00";
      ctx.textAlign="center";
      ctx.fillText("¡Feliz 21 de septiembre!",innerWidth/2,80);

      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  </script>
</body>
</html>
